{% extends 'base.html' %}
{% load static %}
{% block content %}


<section class="h-80 h-custom" style="margin-top: none !important; margin-bottom: 250px;">
	<div class="container h-100">
		{% if order.get_cart_items == 0 %}
                <div class="col-lg-12 text-center">
					
                  <h1 class="fw-bold mb-0 text-black">Your shopping bag is empty</h1>

				  <div class="pt-5 ms-5 ">
					<h6 class="mb-0"><a href="{% url 'store' %}" class="text-body"><i
						  class="fas fa-long-arrow-alt-left me-2"></i>Back to shop</a></h6>
				  </div>
                  
                </div>
        {% else %}
	  <div class="row d-flex justify-content-center align-items-center h-100">
		<div class="col-12">
		  <div class="card card-registration card-registration-2" style="border-radius: 15px;">
			<div class="card-body p-0">
			  <div class="row g-0">
				
				<div class="col-lg-8">
					<div class="pt-5 ms-5 ">
						<h6 class="mb-0"><a href="{% url 'store' %}" class="text-body"><i
							  class="fas fa-long-arrow-alt-left me-2"></i>Back to shop</a></h6>
					  </div>
				  <div class="p-5">
					<div class="d-flex justify-content-between align-items-center mb-3">
					  <h1 class="fw-bold mb-0 text-black">Shopping Cart</h1>
					  
					</div>
					<hr class="my-4">
					{% for item in items %}
					{% if messages %}
					{% for message in messages %}
					
					<span class="badge bg-light mb-3" style="color:red; margin-top: 0px !important;">{{message}}</span>
					
					{% endfor %} 
					{% endif %}
					<div class="row mb-4 d-flex justify-content-between align-items-center">
					  <div class="col-md-2 col-lg-2 col-xl-2">
						<img
						src="{{item.product.imageURL}}"
						  class="img-fluid rounded-3" alt="{{product.name}}">
					  </div>
					  <div class="col-md-3 col-lg-3 col-xl-3">
						<h6 class="text-muted">{{item.product.name}}</h6>
						<h6 class="text-black mb-0">{{product.size}}</h6>
					  </div>
					  <div class="col-md-3 col-lg-3 col-xl-2 d-flex">
						<button class="btn btn-link px-2 chg-quantity update-cart" data-product="{{item.product.id}}" data-action="remove">
						  <i class="fas fa-minus"></i>
						</button>
  
						<item type="number" class="form-control form-control-sm" />{{item.quantity}}</item>
  
						<button class="btn btn-link px-2 chg-quantity update-cart" data-product="{{item.product.id}}" data-action="add">
						  <i class="fas fa-plus"></i>
						</button>
					  </div>
					  <div class="col-md-3 col-lg-2 col-xl-2 offset-lg-1">
						<h6 class="mb-0">${{item.get_total|floatformat:2}}</h6>
					  </div>
					  <div class="col-md-1 col-lg-1 col-xl-1 text-end">
						<button class="btn btn-link px-2 chg-quantity update-cart" data-product="{{item.product.id}}" data-action="delete">
							<i class="fas fa-times"></i>
						  </button>
					  </div>
					</div>
					{% endfor %}
				
  
					
				  </div>
				</div>
				
				<div class="col-lg-4 bg-grey">
				  <div class="p-5">
					<h3 class="fw-bold mb-4  pt-1">Summary</h3>
					<hr class="my-4">
  
					<div class="d-flex justify-content-between mb-4">
					  <h5 class="text-uppercase">Items: {{order.get_cart_items}}</h5>
					  
					</div>
					<hr class="my-4">
  
					<div class="d-flex justify-content-between mb-5">
					  <h5 class="text-uppercase">Total price</h5>
					  <h5>${{order.get_cart_total|floatformat:2}}</h5>
					</div>
  
					<a href="{% url 'checkout' %}" class="btn btn-dark btn-block btn-lg" data-mdb-ripple-color="dark">Checkout</a>
  
				  </div>
				</div>
				{% endif %}
			  </div>
			</div>
		  </div>
		</div>
	  </div>
	</div>
  </section>

{% endblock %}            